<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AVRliberty: E:/!Work/AVR/avr-liberty/ads7870.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>E:/!Work/AVR/avr-liberty/ads7870.h</h1><a href="ads7870_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">//*****************************************************************************</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// File Name    : &apos;ads7870.h&apos;</span>
<a name="l00005"></a>00005 <span class="comment">// Title                : TI ADS7870 12-bit 8ch A/D Converter Driver Library</span>
<a name="l00006"></a>00006 <span class="comment">// Author               : Pascal Stang - Copyright (C) 2005</span>
<a name="l00007"></a>00007 <span class="comment">// Created              : 2005.07.19</span>
<a name="l00008"></a>00008 <span class="comment">// Revised              : 2005.07.21</span>
<a name="l00009"></a>00009 <span class="comment">// Version              : 0.1</span>
<a name="l00010"></a>00010 <span class="comment">// Target MCU   : Atmel AVR Series</span>
<a name="l00011"></a>00011 <span class="comment">// Editor Tabs  : 4</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">// NOTE: This code is currently below version 1.0, and therefore is considered</span>
<a name="l00014"></a>00014 <span class="comment">// to be lacking in some functionality or documentation, or may not be fully</span>
<a name="l00015"></a>00015 <span class="comment">// tested.  Nonetheless, you can expect most functions to work.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// This code is distributed under the GNU Public License</span>
<a name="l00018"></a>00018 <span class="comment">//              which can be found at http://www.gnu.org/licenses/gpl.txt</span>
<a name="l00019"></a>00019 <span class="comment">//</span>
<a name="l00037"></a>00037 <span class="comment"></span><span class="comment">//</span>
<a name="l00038"></a>00038 <span class="comment">//*****************************************************************************</span>
<a name="l00040"></a>00040 <span class="comment"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef ADS7870_H</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_H</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;global.h&quot;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">// constants/macros/typdefs</span>
<a name="l00047"></a><a class="code" href="group__ads7870.html#ga7c65d71951ba5487b5980c054930f61a">00047</a> <span class="preprocessor">#define ADS7870_CS_PORT                 PORTB</span>
<a name="l00048"></a><a class="code" href="group__ads7870.html#ga6e524833f91ece8e1e5872ec6fd95a21">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CS_DDR                  DDRB</span>
<a name="l00049"></a><a class="code" href="group__ads7870.html#ga87410266512c7e5a775992eabf6dea3a">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CS_PIN                  PB0</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="comment">// instruction bit defines</span>
<a name="l00052"></a><a class="code" href="group__ads7870.html#ga8497e3f24c4f7a9df707482fd2065c7a">00052</a> <span class="preprocessor">#define ADS7870_CONVERT                 0x80</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a><a class="code" href="group__ads7870.html#ga68443684a43e7581ba51203a2b840d4d">00054</a> <span class="preprocessor">#define ADS7870_REG_READ                0x40</span>
<a name="l00055"></a><a class="code" href="group__ads7870.html#gab43292018ae653b1d0b6e26f1b513758">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REG_WRITE               0x00</span>
<a name="l00056"></a><a class="code" href="group__ads7870.html#ga2b74166c384034363797f6e630753961">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REG_16BIT               0x20</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="comment">// register addresses</span>
<a name="l00059"></a><a class="code" href="group__ads7870.html#ga5cb1b44c21b276a0171b169cd6a9ffce">00059</a> <span class="preprocessor">#define ADS7870_RESULTLO                0x00</span>
<a name="l00060"></a><a class="code" href="group__ads7870.html#gaf176e2e4e8fbea0345a8011183fe13cc">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_RESULTHI                0x01</span>
<a name="l00061"></a><a class="code" href="group__ads7870.html#gad6118655684e17e3a17a994bc16eea29">00061</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_PGAVALID                0x02</span>
<a name="l00062"></a><a class="code" href="group__ads7870.html#ga28248009b7869938a9f424e9287bbb0c">00062</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ADCTRL                  0x03</span>
<a name="l00063"></a><a class="code" href="group__ads7870.html#ga9d475b2728fd77b2cfc8a96b4e9d9e60">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAINMUX                 0x04</span>
<a name="l00064"></a><a class="code" href="group__ads7870.html#gad4f36394c52888e47dfef6b9c978b689">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_DIGIOSTATE              0x05</span>
<a name="l00065"></a><a class="code" href="group__ads7870.html#ga56206fcdbdbe415dead14f5706056e99">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_DIGIOCTRL               0x06</span>
<a name="l00066"></a><a class="code" href="group__ads7870.html#gaf579811d418722c252af5c288528caa3">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC                  0x07</span>
<a name="l00067"></a><a class="code" href="group__ads7870.html#ga85d66e7c2fedcc049ee680ff5b0709f2">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_SERIFCTRL               0x18</span>
<a name="l00068"></a><a class="code" href="group__ads7870.html#ga0b60d8cae78ddebe9c6d9cd1308b895e">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ID                              0x1F</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>
<a name="l00070"></a>00070 <span class="comment">// register bit defines</span>
<a name="l00071"></a><a class="code" href="group__ads7870.html#ga9fd4c18d06407906e372d507725f5df2">00071</a> <span class="preprocessor">#define ADS7870_RESULTLO_OVR    0x01</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00073"></a><a class="code" href="group__ads7870.html#ga1cec0bc39ca3818ac8d62b93692ccabd">00073</a> <span class="preprocessor">#define ADS7870_ADCTRL_BIN              0x20</span>
<a name="l00074"></a><a class="code" href="group__ads7870.html#ga76da61cad4c6841dc97f5280f06b07e8">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ADCTRL_RMB1             0x08</span>
<a name="l00075"></a><a class="code" href="group__ads7870.html#gaa0dc64807c7cfdb57f1fb43e49ab127b">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ADCTRL_RMB0             0x04</span>
<a name="l00076"></a><a class="code" href="group__ads7870.html#ga94c595469aad79efe23c3bc4c10d8fa9">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ADCTRL_CFD1             0x02</span>
<a name="l00077"></a><a class="code" href="group__ads7870.html#ga44e99078e7d327772723510c10cf73f4">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_ADCTRL_CFD0             0x01</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>
<a name="l00079"></a><a class="code" href="group__ads7870.html#ga2b5919d07104ddf185749395fb083c28">00079</a> <span class="preprocessor">#define ADS7870_GAINMUX_CNVBSY  0x80</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>
<a name="l00081"></a><a class="code" href="group__ads7870.html#ga38cdf5e312013a115fd9b17a117f96fb">00081</a> <span class="preprocessor">#define ADS7870_REFOSC_OSCR             0x20</span>
<a name="l00082"></a><a class="code" href="group__ads7870.html#ga2c6ea77ae05f818bedb33c9ead2feec6">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC_OSCE             0x10</span>
<a name="l00083"></a><a class="code" href="group__ads7870.html#ga4c11d4d2ab4f1df779167c63a846218f">00083</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC_REFE             0x08</span>
<a name="l00084"></a><a class="code" href="group__ads7870.html#ga2506b38c7faa1d00fa116e1f30029d3a">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC_BUFE             0x04</span>
<a name="l00085"></a><a class="code" href="group__ads7870.html#gaf2177df664f91f26cfef43a85d4ecb60">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC_R2V              0x02</span>
<a name="l00086"></a><a class="code" href="group__ads7870.html#ga1d0e6e7327e3b779f279222376c959ac">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_REFOSC_RBG              0x01</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00088"></a><a class="code" href="group__ads7870.html#gabb24d6681d7e755a6f09343c536c5b75">00088</a> <span class="preprocessor">#define ADS7870_SERIFCTRL_LSB   0x01</span>
<a name="l00089"></a><a class="code" href="group__ads7870.html#ga20ef8c112de8900bb4435ee47d7aafe7">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_SERIFCTRL_2W3W  0x02</span>
<a name="l00090"></a><a class="code" href="group__ads7870.html#ga92adc450828fbf2b1d791854a80d736b">00090</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_SERIFCTRL_8051  0x04</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00092"></a><a class="code" href="group__ads7870.html#gadabdffbddbf138b3b0393705a12ea0c6">00092</a> <span class="preprocessor">#define ADS7870_ID_VALUE                0x01</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span>
<a name="l00094"></a>00094 <span class="comment">// gain defines</span>
<a name="l00095"></a><a class="code" href="group__ads7870.html#ga6cb46df87e1e4f47a0bd2a9b6bb0bd2c">00095</a> <span class="preprocessor">#define ADS7870_GAIN_1X                 0x00</span>
<a name="l00096"></a><a class="code" href="group__ads7870.html#ga14ddcd02471ef2cbd212348386e5b418">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_2X                 0x10</span>
<a name="l00097"></a><a class="code" href="group__ads7870.html#ga3a3a7f487358d4d90f9d75ba28bb2e6f">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_4X                 0x20</span>
<a name="l00098"></a><a class="code" href="group__ads7870.html#ga79d9d36d6b39cfdd3ab9d2b7b4d0e673">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_5X                 0x30</span>
<a name="l00099"></a><a class="code" href="group__ads7870.html#gaa07d7873490d132b087292abbbf935a2">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_8X                 0x40</span>
<a name="l00100"></a><a class="code" href="group__ads7870.html#gae884b1c2eab1678ae39ca292ab5d7fb5">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_10X                0x50</span>
<a name="l00101"></a><a class="code" href="group__ads7870.html#ga6873da9a6429b1e7183b902cfd381711">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_16X                0x60</span>
<a name="l00102"></a><a class="code" href="group__ads7870.html#ga0d1f3ad02a67cbf4d8652c5e0f0302d0">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_GAIN_20X                0x70</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="comment">// channel defines</span>
<a name="l00104"></a><a class="code" href="group__ads7870.html#ga4c81417e8037df271f398662e992e355">00104</a> <span class="preprocessor">#define ADS7870_CH_0_1_DIFF             0x00</span>
<a name="l00105"></a><a class="code" href="group__ads7870.html#ga4945f5cf9f82a2f00c4e8b5fee8971fd">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_2_3_DIFF             0x01</span>
<a name="l00106"></a><a class="code" href="group__ads7870.html#ga08a1879c89a4a3cef2202a11114f45bc">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_4_5_DIFF             0x02</span>
<a name="l00107"></a><a class="code" href="group__ads7870.html#gac3fd45ea3371a09304f215eb11cb808a">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_6_7_DIFF             0x03</span>
<a name="l00108"></a><a class="code" href="group__ads7870.html#ga38feff38c2cccd8925c45b8e39051954">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_1_0_DIFF             0x04</span>
<a name="l00109"></a><a class="code" href="group__ads7870.html#gad630117f5a6ff2a392b07e7bc04ab245">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_3_2_DIFF             0x05</span>
<a name="l00110"></a><a class="code" href="group__ads7870.html#gacc3f2d419417ea08dd55933e3f72a907">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_5_4_DIFF             0x06</span>
<a name="l00111"></a><a class="code" href="group__ads7870.html#ga21d92e20c77910e3941a59bd7e721304">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_7_6_DIFF             0x07</span>
<a name="l00112"></a><a class="code" href="group__ads7870.html#gad36402d57c171bd3ef7ef969e7e3cf81">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_SINGLE_ENDED 0x08</span>
<a name="l00113"></a><a class="code" href="group__ads7870.html#ga15f4c51aff94fcaf1ae2f9f8bb26050c">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_0                    0x08</span>
<a name="l00114"></a><a class="code" href="group__ads7870.html#gaec235ed05a5336fc0065524c4e80a074">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_1                    0x09</span>
<a name="l00115"></a><a class="code" href="group__ads7870.html#gaebdf35fc8fb33e8df984e53e1a6875d3">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_2                    0x0A</span>
<a name="l00116"></a><a class="code" href="group__ads7870.html#ga15f96081448a26f21de20595b4f6097c">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_3                    0x0B</span>
<a name="l00117"></a><a class="code" href="group__ads7870.html#ga1a45591c8a8adf5c0ca0ea039b5ed807">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_4                    0x0C</span>
<a name="l00118"></a><a class="code" href="group__ads7870.html#ga3a2ca52c26a60d77676175ba3e52dcb1">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_5                    0x0D</span>
<a name="l00119"></a><a class="code" href="group__ads7870.html#ga6f02a52c21205fdddc9f30b879fb1818">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_6                    0x0E</span>
<a name="l00120"></a><a class="code" href="group__ads7870.html#ga49bf2cceba1de75c0aed089a1e58b31e">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define ADS7870_CH_7                    0x0F</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00122"></a>00122 <span class="comment">// functions</span>
<a name="l00123"></a>00123 
<a name="l00128"></a>00128 <a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> <a class="code" href="group__ads7870.html#ga0e0b5759e0568e4c715674be3610a235">ads7870Init</a>(<span class="keywordtype">void</span>);
<a name="l00129"></a>00129 
<a name="l00132"></a>00132 <a class="code" href="avrlibtypes_8h.html#a5ffa4f640862b25ba6d4f635b78bdbe1">s16</a> <a class="code" href="group__ads7870.html#gabfdf7f22afa3bf8c0855208840004f41">ads7870Convert</a>(<a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> channel);
<a name="l00133"></a>00133 
<a name="l00136"></a>00136 <a class="code" href="avrlibtypes_8h.html#a5ffa4f640862b25ba6d4f635b78bdbe1">s16</a> <a class="code" href="group__ads7870.html#ga85b7232db94e82c518ddfb2c4e90b2b1">ads7870ConvertDiff</a>(<a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> channel);
<a name="l00137"></a>00137 
<a name="l00140"></a>00140 <a class="code" href="avrlibtypes_8h.html#a5ffa4f640862b25ba6d4f635b78bdbe1">s16</a> <a class="code" href="group__ads7870.html#ga587fd0903dbe757bf0695ebf5dfbd5a8">ads7870ConvertRaw</a>(<a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> channel);
<a name="l00141"></a>00141 
<a name="l00144"></a>00144 <a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> <a class="code" href="group__ads7870.html#ga1fe41c73221d1f5978b69be17362b2e3">ads7870ReadReg</a>(<a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> reg);
<a name="l00145"></a>00145 
<a name="l00148"></a>00148 <span class="keywordtype">void</span> <a class="code" href="group__ads7870.html#ga5624ca193fffa98b7b73dd8c5333d61a">ads7870WriteReg</a>(<a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> reg, <a class="code" href="avrlibtypes_8h.html#a4a020a9446b094e07e53376ac939a64d">u08</a> value);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="preprocessor">#endif</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Sep 22 16:50:35 2009 for AVRliberty by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
