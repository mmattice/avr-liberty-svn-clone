<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AVRliberty: Interrupt-driven RC Servo Function Library (servo.c)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Interrupt-driven RC Servo Function Library (servo.c)<br/>
<small>
[<a class="el" href="group__driver__sw.html">Drivers (software-based)</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
</table>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="servo_8h.html" title="Interrupt-driven RC Servo function library.">servo.h</a>&quot;</span> 
</pre></div> <dl class="user"><dt><b>Overview</b></dt><dd>This code allows you to drive up to 8 RC servos from any combination of ports and pins on the AVR processor. Using interrupts, this code continuously sends control signals to the servo to maintain position even while your code is doing other work.</dd></dl>
<p>The servoInit and servoOff effectively turn on and turn off servo control. When you run ServoInit, it automatically assigns each "channel" of servo control to be output on the SERVO_DEFAULT_PORT. One "channel" of servo control can control one servo and must be assigned single I/O pin for output.</p>
<p>If you're using all eight channels (SERVO_NUM_CHANNELS = 8), then then by default the code will use SERVO_DEFAULT_PORT pins 0-7. If you're only using four channels, then pins 0-3 will be used by default.</p>
<p>The command servoSetChannelIO(channel, port, pin) allows you to reassign the output of any channel to any port and I/O pin you choose. For exampe, if you have an RC servo connected to PORTC, pin 6, and you wish to use channel 2 to control it, use:</p>
<p>servoSerChannelIO( 2, _SFR_IO_ADDR(PORTC), 6)</p>
<p>(NOTE: you must include the "_SRF_IO_ADDR()" part around your port)</p>
<p>The servoSetPostion and servoGetPosition commands allow you to command a given servo to your desired position. The position you request must lie between the SERVO_MIN and SERVO_MAX limit you defined.</p>
<p>: This servo library has been tested to work without issue on several different AVR processors and with several different brands/kinds of servos. However:</p>
<ul>
<li>Proper output duty cylces are dependent upon a user calibation and configuration.</li>
<li>IF YOUR SERVOS ARE EXCEPTIONALLY POWERFUL, AN ERRONEOUS OUTPUT DUTY CYCLE GENERATED FROM THIS CODE OR ANY OTHER SOURCE CAN DAMAGE YOUR SERVO'S INTERNAL DRIVER CHIP OR ITS GEARS!</li>
<li>I have never experienced any servo damage from erroneous control signal input, but it is possible. </li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Sep 22 16:50:42 2009 for AVRliberty by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
